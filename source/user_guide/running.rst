.. _running:

Running nekRS
=============

This page gives information on how to run nekRS after compilation and input 
files have been generated.

Command Line arguments
""""""""""""""""""""""

+------------------+--------------+-----------------------------------------------------+--------------------------------------------------------------------------------------------------+----------+
|    Parameter     | Short option |                       Options                       |                                           Description                                            | Required |
+==================+==============+=====================================================+==================================================================================================+==========+
| ``--help``       | ``-h``       | None or ``par``                                     | Print help, either summary of command line argument                                              | No       |
+------------------+--------------+-----------------------------------------------------+--------------------------------------------------------------------------------------------------+----------+
| ``--setup``      | ``-s``       | None, ``par`` or ``sess file``                      | Specifies the location of files needed to initialise the simulation                              | Yes      |
+------------------+--------------+-----------------------------------------------------+--------------------------------------------------------------------------------------------------+----------+
| ``--build-only`` | ``-b``       | None or ``#procs``                                  | Initialise the simulation and run :ref:`just_in_time_compilation` only.                          | No       |
+------------------+--------------+-----------------------------------------------------+--------------------------------------------------------------------------------------------------+----------+
| ``--cimode``     | ``-c``       | None or ``<id>`` (N.B. If set must be >=0)          | runs specific CI tests if available in the chosen simulation                                     | No       |
+------------------+--------------+-----------------------------------------------------+--------------------------------------------------------------------------------------------------+----------+
| ``--debug``      | ``-d``       | None                                                | Run in debug mode, IE print values of many of the variables while running                        | No       |
+------------------+--------------+-----------------------------------------------------+--------------------------------------------------------------------------------------------------+----------+
| ``--backend``    | ``-t``       | ``CPU``, ``CUDA``, ``HIP``, ``DPCPP`` or ``OPENCL`` | Manually set backend device for running                                                          | No       |
+------------------+--------------+-----------------------------------------------------+--------------------------------------------------------------------------------------------------+----------+
| ``--device-id``  | ``-i``       | ``id`` or ``LOCAL-RANK``                            | Manually set OCCA device ID (I.E. for machines with multiple GPUs) or use ``LOCAL-RANK`` for CPU | No       |
+------------------+--------------+-----------------------------------------------------+--------------------------------------------------------------------------------------------------+----------+


